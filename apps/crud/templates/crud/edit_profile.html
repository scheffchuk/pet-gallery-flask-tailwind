{% extends 'crud/base.html' %} {% block title %}プロフィール編集{% endblock %}
{% block content %}
<div
  class="max-w-md mx-auto bg-white rounded-3xl shadow-xl border-4 border-purple-300 p-8"
>
  <div class="mb-6">
    <h2
      class="text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-500 to-pink-600"
    >
      プロフィール編集 ✏️✨
    </h2>
  </div>

  <form
    action="{{ url_for('crud.edit_profile') }}"
    method="POST"
    class="space-y-4 mb-6"
  >
    {{ form.csrf_token }}

    <div>
      {{ form.username.label(class="block text-lg font-bold text-purple-700
      mb-2") }} {{ form.username(placeholder="👤 ユーザー名",
      value=user.username, class="w-full px-4 py-3 border-2 border-purple-200
      rounded-2xl focus:outline-none focus:ring-4 focus:ring-purple-300
      focus:border-purple-400 transition-all duration-300 shadow-md") }} {% for
      error in form.username.errors %}
      <div
        class="text-red-600 text-sm font-semibold bg-red-50 p-2 rounded-xl border border-red-200 mt-2"
      >
        ⚠️ {{ error }}
      </div>
      {% endfor %}
    </div>

    <div>
      {{ form.email.label(class="block text-lg font-bold text-purple-700 mb-2")
      }} {{ form.email(placeholder="📧 メールアドレス", value=user.email,
      class="w-full px-4 py-3 border-2 border-purple-200 rounded-2xl
      focus:outline-none focus:ring-4 focus:ring-purple-300
      focus:border-purple-400 transition-all duration-300 shadow-md") }} {% for
      error in form.email.errors %}
      <div
        class="text-red-600 text-sm font-semibold bg-red-50 p-2 rounded-xl border border-red-200 mt-2"
      >
        ⚠️ {{ error }}
      </div>
      {% endfor %}
    </div>

    <div>
      {{ form.password.label(class="block text-lg font-bold text-purple-700
      mb-2") }}
      <p class="text-sm text-purple-600 mb-2">
        💡 パスワードを変更しない場合は空欄のままにしてください
      </p>
      {{ form.password(placeholder="🔐
      新しいパスワード（変更しない場合は空欄）", class="w-full px-4 py-3
      border-2 border-purple-200 rounded-2xl focus:outline-none focus:ring-4
      focus:ring-purple-300 focus:border-purple-400 transition-all duration-300
      shadow-md") }} {% for error in form.password.errors %}
      <div
        class="text-red-600 text-sm font-semibold bg-red-50 p-2 rounded-xl border border-red-200 mt-2"
      >
        ⚠️ {{ error }}
      </div>
      {% endfor %}
    </div>

    <div class="pt-4 space-y-3">
      <input
        type="submit"
        value="更新 ✨"
        class="w-full bg-gradient-to-r from-purple-400 to-pink-500 text-white py-3 px-6 rounded-2xl hover:from-purple-500 hover:to-pink-600 focus:outline-none focus:ring-4 focus:ring-purple-300 transition-all duration-300 font-bold text-lg shadow-lg transform hover:scale-105 cursor-pointer"
      />

      <a
        href="{{ url_for('crud.profile') }}"
        class="block w-full bg-gradient-to-r from-gray-400 to-gray-500 text-gray-800 py-3 px-6 rounded-2xl hover:from-gray-500 hover:to-gray-600 focus:outline-none focus:ring-4 focus:ring-gray-300 transition-all duration-300 font-bold text-lg shadow-lg transform hover:scale-105 text-center"
      >
        キャンセル ❌
      </a>
    </div>
  </form>
</div>
{% endblock %}
